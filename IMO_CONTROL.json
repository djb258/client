{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "meta": {
    "name": "IMO_CONTROL",
    "version": "1.0.0",
    "created": "2026-01-30",
    "authority": "imo-creator",
    "status": "ACTIVE",
    "description": "Child repo governance contract for Client Intake & Vendor Export System",
    "constitution_file": "CONSTITUTION.md"
  },

  "control_plane": {
    "control_version": "1.0.0",
    "upstream_repo": "imo-creator",
    "upstream_commit": "e8556c2",
    "drift_detection": {
      "enabled": true,
      "warn_on_outdated": true,
      "check_frequency": "on_audit"
    }
  },

  "governance": {
    "sovereign": "imo-creator",
    "sovereignty_type": "INHERITED",
    "conformance_direction": "UPSTREAM",
    "interpretation_allowed": false,
    "modification_requires": ["ADR", "HUMAN_APPROVAL"]
  },

  "identity": {
    "repo_name": "client",
    "repo_slug": "djb258/client",
    "hub_id": "client-subhive",
    "hub_name": "Client Intake & Vendor Export System",
    "sovereign_reference": "imo-creator",
    "domain_spec": "doctrine/REPO_DOMAIN_SPEC.md"
  },

  "lifecycle": {
    "current_phase": "structural_instantiation",
    "allowed_phases": [
      "constitutional_admission",
      "structural_instantiation",
      "data_declaration",
      "execution_wiring",
      "dba_enforcement",
      "documentation_enforcement",
      "hygiene_audit",
      "cleanup_execution"
    ]
  },

  "structure": {
    "model": "HUB_SUBHUB_ALTITUDE",
    "hub": {
      "definition": "Repository root = Hub",
      "required_files": [
        "REGISTRY.yaml",
        "DOCTRINE.md",
        "README.md",
        "IMO_CONTROL.json",
        "CONSTITUTION.md"
      ]
    },
    "altitude": {
      "branches": ["sys", "data", "app", "ai", "ui"],
      "path_pattern": "src/{sys,data,app,ai,ui}/",
      "enforcement": "MANDATORY"
    }
  },

  "forbidden": {
    "folders": ["utils", "helpers", "common", "shared", "lib", "misc"],
    "files_at_src_root": true
  },

  "secrets": {
    "provider": "doppler",
    "enforcement": "MANDATORY",
    "forbidden": [
      ".env",
      ".env.local",
      ".env.production",
      "secrets.json",
      "credentials.json"
    ],
    "policy": "All secrets MUST be sourced from Doppler. No .env files, no hardcoded secrets, no local secret files permitted."
  },

  "claude_code_behavior": {
    "must": [
      "Check IMO_CONTROL.json exists before any work",
      "Read doctrine/REPO_DOMAIN_SPEC.md for domain bindings",
      "Enforce CTB altitude structure",
      "Refuse to modify parent doctrine",
      "Use Doppler for all secrets access"
    ],
    "must_not": [
      "Modify parent doctrine files",
      "Skip descent gates",
      "Invent structure beyond doctrine",
      "Create or commit .env files",
      "Hardcode secrets or credentials"
    ]
  }
}
